!function(){"use strict";var t=function(t,e,a){var n=t[e];return function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return a.apply(null,e),n.apply(t,e)}};!function(e){var a=e.screen,n=a.width,r=a.height,i=e.navigator.language,o=e.location,c=o.hostname,s=o.pathname,l=o.search,u=e.localStorage,d=e.sessionStorage,f=e.document,v=e.history,p=f.querySelectorAll("script[data-website-id]"),h=p[p.length-1];if(h){var g,b=h.getAttribute.bind(h),w=b("data-website-id"),y=b("data-host-url"),m="false"!==b("data-auto-track"),S=b("data-do-not-track"),k=b("data-cache"),E=b("data-domains")||"",T=E.split(",").map((function(t){return t.trim()})),q=/^abla--([a-z]+)--([\w]+[\w-]*)$/,N="[class*='abla--']",j="abla.cache",A=function(){return u&&u.getItem("abla.disabled")||S&&function(){var t=window.doNotTrack,e=window.navigator,a=window.external,n="msTrackingProtectionEnabled",r=t||e.doNotTrack||e.msDoNotTrack||a&&n in a&&a[n]();return"1"==r||"yes"===r}()||E&&!T.includes(c)},L=y?(g=y)&&g.length>1&&g.endsWith("/")?g.slice(0,-1):g:h.src.split("/").slice(0,-1).join("/"),O=n+"x"+r,I={},x=""+s+l,H=f.referrer,M=function(t,e,a){if(!A()){var n={website:a,hostname:c,screen:O,language:i,cache:k&&d.getItem(j)};Object.keys(e).forEach((function(t){n[t]=e[t]})),function(t,e,a){var n=new XMLHttpRequest;n.open("POST",t,!0),n.setRequestHeader("Content-Type","application/json"),n.onreadystatechange=function(){4===n.readyState&&function(t){k&&d.setItem(j,t)}(n.response)},n.send(JSON.stringify(e))}(L+"/api/collect",{type:t,payload:n})}},P=function(t,e,a){void 0===t&&(t=x),void 0===e&&(e=H),void 0===a&&(a=w),M("pageview",{url:t,referrer:e},a)},R=function(t,e,a,n){void 0===e&&(e="custom"),void 0===a&&(a=x),void 0===n&&(n=w),M("event",{event_type:e,event_value:t,url:a},n)},_=function(t){t.className.split(" ").forEach((function(e){if(q.test(e)){var a=e.split("--"),n=a[1],r=a[2],i=I[e]?I[e]:I[e]=function(){return R(r,n)};t.addEventListener(n,i,!0)}}))},z=function(t){t.forEach((function(t){var e=t.target;_(e),e.querySelectorAll(N).forEach(_)}))},C=function(t,e,a){if(a){H=x;var n=a.toString();(x="http"===n.substring(0,4)?"/"+n.split("/").splice(3).join("/"):n)!==H&&P()}};if(!e.abla){var D=function(t){return R(t)};D.trackView=P,D.trackEvent=R,e.abla=D}if(m&&!A()){v.pushState=t(v,"pushState",C),v.replaceState=t(v,"replaceState",C);var J=function(){switch(f.readyState){case"interactive":f.querySelectorAll(N).forEach(_),new MutationObserver(z).observe(f,{childList:!0,subtree:!0});break;case"complete":P()}};f.addEventListener("readystatechange",J,!0),J()}}}(window)}();